(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,t,n){e.exports=n(72)},69:function(e,t){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(29),c=n.n(i),s=n(30),u=n(31),r=n(33),l=n(32),m=n(34),d=n(1),h=n(40),f=function(){var e=h.connect("http://localhost:3000");return{handleHost:function(t){e.emit("room list",t)},joinRoom:function(t){e.on("room list",t)}}},b=function(e){function t(e,n){var a;return Object(s.a)(this,t),(a=Object(r.a)(this,Object(l.a)(t).call(this,e,n))).state={host:null,code:"",client:f(),correctCode:!1,point:0,submitted:!1,hostCode:"",rooms:[]},a.updateCode=a.updateCode.bind(Object(d.a)(Object(d.a)(a))),a.updatePoint=a.updatePoint.bind(Object(d.a)(Object(d.a)(a))),a.updateSubmit=a.updateSubmit.bind(Object(d.a)(Object(d.a)(a))),a.searchSucessful=a.searchSucessful.bind(Object(d.a)(Object(d.a)(a))),a.CorrectRoom=a.CorrectRoom.bind(Object(d.a)(Object(d.a)(a))),a.Room=a.Room.bind(Object(d.a)(Object(d.a)(a))),a.Successed=a.Successed.bind(Object(d.a)(Object(d.a)(a))),a.isHost=a.isHost.bind(Object(d.a)(Object(d.a)(a))),a.onRoomReceived=a.onRoomReceived.bind(Object(d.a)(Object(d.a)(a))),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.state.client.joinRoom(this.onRoomReceived)}},{key:"onRoomReceived",value:function(e){this.setState({rooms:this.state.rooms.concat(e)})}},{key:"makeid",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=n.length,o=0;o<e;o++)t+=n.charAt(Math.floor(Math.random()*a));return t.toUpperCase()}},{key:"joinHost",value:function(e){return console.log(this.state.rooms),!!this.state.rooms.map(function(e){return e.key}).includes(e)}},{key:"isHost",value:function(e){if(!0===e){var t=this.makeid(5);this.setState({hostCode:t}),this.state.client.handleHost(t)}this.setState({host:e})}},{key:"updateCode",value:function(e){this.setState({code:e})}},{key:"updatePoint",value:function(e){this.setState({point:e})}},{key:"updateSubmit",value:function(){this.setState({submitted:!0})}},{key:"searchSucessful",value:function(){!0===this.joinHost(this.state.code)?this.setState({correctCode:!0}):this.setState({correctCode:!1})}},{key:"CorrectRoom",value:function(e){return o.a.createElement("div",null,o.a.createElement("div",{className:"ui segment",style:{textAlign:"center",width:"50%",marginLeft:"25%"}},o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"ui form",action:""},o.a.createElement("div",{className:"field"},o.a.createElement("label",null,e.code)))),o.a.createElement("div",{className:"ui segment",style:{textAlign:"center",width:"50%",marginLeft:"25%"}},o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"ui form",action:""},o.a.createElement("div",{className:"field"},o.a.createElement("label",null,"Please select your vote:"),[3,5,8,13,21,34].map(function(t){return o.a.createElement("button",{onClick:function(){return e.updatePoint(t)},style:{margin:"5px",width:"50px",height:"50px"}},t)}),o.a.createElement("br",null),o.a.createElement("label",null,"Your vote:"),o.a.createElement("h2",null,e.point),o.a.createElement("button",{onClick:e.updateSubmit},"Submit")))))}},{key:"Room",value:function(e){return o.a.createElement("div",{className:"ui segment",style:{textAlign:"center",width:"50%",marginLeft:"25%"}},o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"ui form"},o.a.createElement("div",{className:"field"},o.a.createElement("label",null,"Room code:"),o.a.createElement("input",{type:"text",value:e.code,onChange:function(t){return e.updateCode(t.target.value.toUpperCase())}}),o.a.createElement("button",{onClick:e.searchSucessful},"Join"))))}},{key:"Successed",value:function(e){return o.a.createElement("div",{className:"ui segment",style:{textAlign:"center",width:"50%",marginLeft:"25%"}},o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"ui form"},o.a.createElement("div",{className:"field"},o.a.createElement("label",null,"You have successedfully vote ",e.point," for ",e.code))))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,null===this.state.host&&o.a.createElement("div",{className:"ui segment",style:{textAlign:"center",width:"50%",marginLeft:"25%"}},o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"ui form"}),o.a.createElement("button",{onClick:function(){return e.isHost(!0)}},"Host"),o.a.createElement("button",{onClick:function(){return e.isHost(!1)}},"Join")),!0===this.state.host&&o.a.createElement("div",{className:"ui segment",style:{textAlign:"center",width:"50%",marginLeft:"25%"}},o.a.createElement("form",{onSubmit:function(e){return e.preventDefault()},className:"ui form"},"Code: ",this.state.hostCode)),!1===this.state.host&&o.a.createElement("div",{style:{paddingTop:"100px"}},!this.state.correctCode&&o.a.createElement(this.Room,{updateCode:this.updateCode,searchSucessful:this.searchSucessful,code:this.state.code}),this.state.correctCode&&!1===this.state.submitted&&o.a.createElement(this.CorrectRoom,{updateSubmit:this.updateSubmit,point:this.state.point,updatePoint:this.updatePoint,code:this.state.code}),this.state.submitted&&o.a.createElement(this.Successed,{code:this.state.code,point:this.state.point})))}}]),t}(o.a.Component);c.a.render(o.a.createElement(b,null),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.03492d63.chunk.js.map