{"version":3,"sources":["socket.js","Root.jsx","index.jsx"],"names":["io","require","socket","connect","handleHost","key","emit","joinRoom","func","on","Root","props","context","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","host","code","client","correctCode","point","submitted","hostCode","rooms","updateCode","bind","assertThisInitialized","updatePoint","updateSubmit","searchSucessful","CorrectRoom","Room","Successed","isHost","onRoomReceived","entry","setState","concat","length","result","characters","charactersLength","i","charAt","Math","floor","random","toUpperCase","console","log","map","includes","e","makeid","joinHost","react_default","a","createElement","className","style","textAlign","width","marginLeft","onSubmit","preventDefault","action","onClick","margin","height","type","value","onChange","target","_this2","paddingTop","React","Component","ReactDOM","render","Root_Root","document","getElementById"],"mappings":"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","file":"static/js/main.03492d63.chunk.js","sourcesContent":["const io = require('socket.io-client')\r\n\r\n\r\n\r\nexport default function () {\r\n  const socket = io.connect('http://localhost:3000')\r\n\r\n  function joinRoom(func){\r\n    socket.on('room list', func)\r\n  }\r\n\r\n  function handleHost(key) {\r\n    socket.emit('room list', key)\r\n  }\r\n\r\n\r\n  return {\r\n    handleHost,\r\n    joinRoom\r\n  }\r\n}\r\n\r\n","import React from 'react';\r\n// import injectTapEventPlugin from 'react-tap-event-plugin';\r\n\r\n\r\nimport socket from './socket';\r\n// injectTapEventPlugin()\r\n\r\nexport default class Root extends React.Component {\r\n  constructor(props, context) {\r\n    super(props, context)\r\n    this.state = {\r\n      host: null,\r\n      code: \"\",\r\n      client: socket(),\r\n      correctCode: false,\r\n      point: 0,\r\n      submitted: false,\r\n      hostCode: '',\r\n      rooms: []\r\n    }\r\n    this.updateCode=this.updateCode.bind(this);\r\n    this.updatePoint=this.updatePoint.bind(this);\r\n    this.updateSubmit=this.updateSubmit.bind(this);\r\n    this.searchSucessful=this.searchSucessful.bind(this);\r\n    this.CorrectRoom=this.CorrectRoom.bind(this);\r\n    this.Room=this.Room.bind(this);\r\n    this.Successed=this.Successed.bind(this);\r\n    this.isHost=this.isHost.bind(this);\r\n    this.onRoomReceived=this.onRoomReceived.bind(this)\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.state.client.joinRoom(this.onRoomReceived)\r\n  }\r\n\r\n  onRoomReceived(entry){\r\n    this.setState({ rooms: this.state.rooms.concat(entry)})\r\n  }\r\n\r\n  makeid(length) {\r\n    var result           = '';\r\n    var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for ( var i = 0; i < length; i++ ) {\r\n       result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result.toUpperCase();\r\n  }\r\n\r\n\r\n  joinHost(key){\r\n    console.log(this.state.rooms)\r\n        if (this.state.rooms.map(i=> i.key).includes(key)){\r\n          return true\r\n        } else {\r\n          return false\r\n        }\r\n  }\r\n\r\n  \r\n\r\n\r\n  isHost(e){\r\n    if (e === true) {\r\n      let key = this.makeid(5);\r\n      this.setState({ hostCode: key})\r\n      this.state.client.handleHost(key);\r\n    }\r\n    this.setState({host: e})\r\n  }\r\n\r\n  updateCode(e){\r\n    this.setState({ code: e })\r\n  }\r\n\r\n  updatePoint(e){\r\n    this.setState({ point: e })\r\n  }\r\n\r\n  updateSubmit(){\r\n    this.setState({ submitted: true })\r\n  }\r\n\r\n  searchSucessful(){\r\n    if (this.joinHost(this.state.code) === true){\r\n\r\n    this.setState({ correctCode: true })\r\n    } else {\r\n      this.setState({ correctCode: false})\r\n    }\r\n  }\r\n\r\n  CorrectRoom(props){\r\n    const pointArray = [3, 5, 8, 13, 21, 34];\r\n    return (\r\n      <div>\r\n        <div className=\"ui segment\" style={{ textAlign: \"center\", width: \"50%\", marginLeft: \"25%\" }}>\r\n          <form onSubmit={e => e.preventDefault()} className=\"ui form\" action=\"\">\r\n            <div className=\"field\">\r\n              <label>{props.code}</label>\r\n            </div>\r\n          </form>\r\n        </div>\r\n        <div className=\"ui segment\" style={{ textAlign: \"center\", width: \"50%\", marginLeft: \"25%\" }}>\r\n          <form onSubmit={e => e.preventDefault()} className=\"ui form\" action=\"\">\r\n            <div className=\"field\">\r\n              <label>Please select your vote:</label>\r\n              {pointArray.map(i =>\r\n                <button onClick={() => props.updatePoint(i)} style={{ margin: '5px', width: '50px', height: '50px' }}>{i}</button>\r\n              )}\r\n              <br />\r\n              <label>Your vote:</label>\r\n              <h2>{props.point}</h2>\r\n              <button onClick={props.updateSubmit}>Submit</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n  \r\n    )\r\n  }\r\n\r\n  Room(props){\r\n    return (\r\n    <div className=\"ui segment\" style={{ textAlign: \"center\", width: \"50%\", marginLeft: \"25%\" }}>\r\n      <form onSubmit={e => e.preventDefault()} className=\"ui form\">\r\n        <div className=\"field\">\r\n          <label>Room code:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={props.code}\r\n            onChange={e => props.updateCode(e.target.value.toUpperCase())}\r\n          />\r\n          <button onClick={props.searchSucessful}>Join</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )}\r\n\r\n  Successed(props){\r\n    return (\r\n      <div className=\"ui segment\" style={{ textAlign: \"center\", width: \"50%\", marginLeft: \"25%\" }}>\r\n        <form onSubmit={e => e.preventDefault()} className=\"ui form\">\r\n          <div className=\"field\">\r\n            <label>You have successedfully vote {props.point} for {props.code}</label>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    )\r\n  }\r\n  \r\n\r\n  render() {\r\n    return (\r\n   <div>\r\n     {this.state.host === null && (\r\n     <div className=\"ui segment\" style={{ textAlign: \"center\", width: \"50%\", marginLeft: \"25%\" }} >\r\n       <form onSubmit={e => e.preventDefault()} className=\"ui form\"></form>\r\n       <button onClick={()=>this.isHost(true)}>Host</button>  \r\n       <button onClick={()=>this.isHost(false)}>Join</button>\r\n       </div>\r\n       )}\r\n       {this.state.host === true && (\r\n         <div className=\"ui segment\" style={{ textAlign: \"center\", width: \"50%\", marginLeft: \"25%\" }}>\r\n           <form onSubmit={e => e.preventDefault()} className=\"ui form\">\r\n           Code: {this.state.hostCode}\r\n           </form>\r\n         </div>\r\n       )}\r\n{this.state.host === false && (\r\n  <div style={{ paddingTop: '100px' }}>\r\n       {!this.state.correctCode &&\r\n          <this.Room updateCode={this.updateCode} searchSucessful={this.searchSucessful} code={this.state.code} />\r\n        }\r\n        {this.state.correctCode && this.state.submitted === false &&\r\n          <this.CorrectRoom updateSubmit={this.updateSubmit} point={this.state.point} updatePoint={this.updatePoint} code={this.state.code} />\r\n        }\r\n        {this.state.submitted\r\n          && <this.Successed code={this.state.code} point={this.state.point} />\r\n        }\r\n     </div>\r\n)}\r\n</div>\r\n    )\r\n  }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n\r\nimport Root from './Root';\r\n\r\nReactDOM.render(\r\n  <Root />,\r\n  document.getElementById('root')\r\n)\r\n\r\nif (module.hot) {\r\n  module.hot.accept('./Root', () => {\r\n    // eslint-disable-next-line\r\n    const NextRoot = require('./Root').default\r\n    ReactDOM.render(\r\n      <NextRoot />,\r\n      document.getElementById('root')\r\n    )\r\n  })\r\n}\r\n"],"sourceRoot":""}